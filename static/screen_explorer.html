<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="styles/screen_query.css">
  <script src="scripts/screen_explorer.js"></script>
  <script src="scripts/screen_query.js"></script>
</head>
<body>

<div id="screens-and-wells-holder">
    <div id="screens-half-div">
        <div class="add-reload-banner">
            <table class="button-table add-reload-header-buttons-table">
                <tbody>
                <tr>
                    <td><button id="query-screens-button" class="table-cell-button">Complex Query</button></td>
                    <td><button id="reload-all-screens-button" class="table-cell-button">Reload All Screens</button></td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="holder-for-tabulator">
            <div id="screen-tabulator" class="object-for-tabulator"></div>
        </div>
    </div><div id="screen-info-view-div" style="display: none;">
        <div id="screen-info-view-header">
            <h2 id="screen-info-view-title"></h2>
            <table id="screen-info-view-button-table" class="button-table">
                <tbody>
                <tr>
                    <td><button id="view-wells-button" class="table-cell-button" disabled="disabled;">View Wells</button></td>
                    <td><button id="compare-screens-button" class="table-cell-button">Compare Screen</button></td>
                    <td><button id="screen-subsets-button" class="table-cell-button">Subset Screens</button></td>
                    <td><button id="screen-make-recipe-button" class="table-cell-button">Screen Recipe</button></td>
                    <td><button id="screen-report-button" class="table-cell-button">Screen Report</button></td>
                    <td><button id="hide-screen-view-button" class="table-cell-button">Hide Screen</button></td>
                </tr>
                </tbody>
            </table>
        </div>
        <div id="holder-for-info-divs">
            <div id="screen-wells-view-tabulator" class="object-for-tabulator"></div>
            <div id="screen-report" style="width: 100%; height: 100%; display: none;">
                <div class="screen-info" style="display: flex; height: 100%; flex-direction:column;">
                    <span>There are <span id="condition-num"></span> factors</span>
                    <span>There are <span id="chemical-num"></span> unique chemicals</span>
                    <span>On average there are <span id="avg-conditions-num"></span> conditions in each well</span>
                    <div id="screen-report-tabulator" class="object-for-tabulator"></div>
                </div>
            </div>
            <div id="compare-screens" style="width: 100%; height: 100%; display: none;">
                <div style="display: flex; height: 100%; flex-direction:column;">
                    <div id="second-select-warning" style="font-weight: bold;"> Select a second screen to compare </div>
                    <div class="screen-info" id="comparison-info-grid" style="display: none;">
                        <span id="screen-name1" class="screen-name"></span>
                        <span><span id="factor-num1"></span> factors</span>
                        <span><span id="chemical-num1"></span> unique chemicals</span>
                        <span><span id="avg-factor-num1"></span> avg factors per well</span>
                        <span id="screen-name2" class="screen-name"></span>
                        <span><span id="factor-num2"></span> factors</span>
                        <span><span id="chemical-num2"></span> unique chemicals</span>
                        <span><span id="avg-factor-num2"></span> avg factors per well</span>
                        <span style="grid-column: 3 / 4; grid-row: 2 / 3;"><span id="condition-num3"></span> shared conditions</span>
                        <span style="grid-column: 3 / 4; grid-row: 3 / 4;"><span id="chemical-num3"></span> shared chemicals</span>
                    </div>
                    <div id="screen-compare-tabulator" class="object-for-tabulator"></div>
                </div>
                
            </div>
        </div>
    </div>
</div>
<div id="screen-popup-container" style="display: none;">
    <div id="screen-query-popup" style="display: none;">
        <h2>Query Builder</h2>
        <table id="screen-query-screen-search-table">
            <tbody>
              <tr>
                <td><label for="screen-name-search">Screen Name Search</label></td>
                <td><input id="screen-name-search" name="screen-name-search" placeholder="Name string search"></td>
              </tr>
              <tr>
                <td><label for="screen-owner-search">Screen Owner Search</label></td>
                <td><input id="screen-owner-search" name="screen-owner-search" placeholder="Owner string search"></td>
              </tr>
            </tbody>
        </table>
        <br/>
        <table id="condition-query-button-table" class="button-table">
            <tbody>
              <tr>
                <td><button id="condition-query-button" class="table-cell-button">Search by Condition</button></td>
              </tr>
            </tbody>
        </table>
        <div id="condition-query-header" style="display: none;">
            <table id="condition-query-cancel-button-table" class="button-table">
                <tbody>
                    <tr><td><button id="condition-query-cancel-button" class="table-cell-button">Cancel Search by Condition</button></td></tr>
                </tbody>
            </table>
            <p>Actions are performed on selected (highlighted) condition or chemical</p>
            <table id="condition-query-logic-button-table" class="button-table">
                <tbody>
                    <tr>
                        <td><button id="condition-query-and-button" class="table-cell-button">AND</button></td>
                        <td><button id="condition-query-or-button" class="table-cell-button">OR</button></td>
                        <td><button id="condition-query-not-button" class="table-cell-button">NOT</button></td>
                        <td><button id="condition-query-remove-button" class="table-cell-button">Remove</button></td>
                    </tr>
                </tbody>
            </table>
            <br/>
        </div>
        <div id="condition-query-div"></div>
        <br/>
        <table id="screen-query-button-table" class="button-table">
            <tbody>
                <tr>
                <td><button id="screen-query-search-button" class="table-cell-button">Search</button></td>
                <td><button id="screen-query-cancel-button" class="table-cell-button">Cancel</button></td>
                </tr>
            </tbody>
        </table>
        <br/>
    </div>
</div>
</body>
</html>